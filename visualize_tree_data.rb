require 'gruff'

data = {
  "insert" => {
    10000 => 0.006368800019845367,
    20000 => 0.008772199973464012,
    30000 => 0.008732799999415874,
    40000 => 0.008876299974508584,
    50000 => 0.009256999986246229,
    60000 => 0.010065499995835125,
    70000 => 0.010466600023210048,
    80000 => 0.010422300011850894,
    90000 => 0.010760400025174022,
    100000 => 0.011440000007860362
  },
  "find" => {
    10000 => 0.0014822000171989202,
    20000 => 0.0017963999416679144,
    30000 => 0.0019619000144302846,
    40000 => 0.0020225999876856806,
    50000 => 0.0022531999507918953,
    60000 => 0.002172500011511147,
    70000 => 0.0025766999926418064,
    80000 => 0.0023493000073358415,
    90000 => 0.0026707999873906373,
    100000 => 0.0025637999875470995
  },
  "remove" => {
    10000 => 0.007046199985779822,
    20000 => 0.007653600024059415,
    30000 => 0.007937099994160235,
    40000 => 0.008347799978218972,
    50000 => 0.0088215000461787,
    60000 => 0.008997799991630018,
    70000 => 0.009240700001828372,
    80000 => 0.009601999982260167,
    90000 => 0.009698199992999434,
    100000 => 0.00982429995201528
  }
}

g = Gruff::Line.new
g.title = 'Performance Comparison'
g.labels = data["insert"].keys.each_with_index.map { |k, i| [i, k.to_s] }.to_h

data.each do |operation, values|
  g.data(operation.capitalize, values.values)
end

g.write('performance_comparison.png')


data = {
  "memory" => {
    10000 => 720000,
    20000 => 1440000,
    30000 => 2160000,
    40000 => 2880000,
    50000 => 3600000,
    60000 => 4320000,
    70000 => 5040000,
    80000 => 5759568,
    90000 => 6479568,
    100000 => 7199568
  }
}

g = Gruff::Line.new
g.title = 'Memory Profile'
g.labels = data["memory"].keys.each_with_index.map { |k, i| [i, k.to_s] }.to_h

data.each do |operation, values|
  g.data(operation.capitalize, values.values)
end

g.write('memory_profile.png')